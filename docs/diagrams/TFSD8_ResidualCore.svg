<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.2 (20250808.2320)
 -->
<!-- Title: TFSD8_ResidualCore Pages: 1 -->
<svg width="446pt" height="457pt"
 viewBox="0.00 0.00 446.00 457.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 452.5)">
<title>TFSD8_ResidualCore</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-452.5 441.5,-452.5 441.5,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="218.75" y="-421.7" font-family="Times New Roman,serif" font-size="24.00">TFSD8 — Residual Feedback Core (Detail)</text>
<!-- QuantOut -->
<g id="node1" class="node">
<title>QuantOut</title>
<path fill="#fff7e6" stroke="#555555" d="M214.5,-413.5C214.5,-413.5 111.5,-413.5 111.5,-413.5 105.5,-413.5 99.5,-407.5 99.5,-401.5 99.5,-401.5 99.5,-386 99.5,-386 99.5,-380 105.5,-374 111.5,-374 111.5,-374 214.5,-374 214.5,-374 220.5,-374 226.5,-380 226.5,-386 226.5,-386 226.5,-401.5 226.5,-401.5 226.5,-407.5 220.5,-413.5 214.5,-413.5"/>
<text xml:space="preserve" text-anchor="middle" x="163" y="-396.2" font-family="Arial" font-size="14.00">Quantized Value d̂</text>
<text xml:space="preserve" text-anchor="middle" x="163" y="-380.45" font-family="Arial" font-size="14.00">(FP8/INT8)</text>
</g>
<!-- Dequant -->
<g id="node2" class="node">
<title>Dequant</title>
<path fill="#f0fff4" stroke="#555555" d="M220.12,-336.25C220.12,-336.25 105.88,-336.25 105.88,-336.25 99.88,-336.25 93.88,-330.25 93.88,-324.25 93.88,-324.25 93.88,-312.25 93.88,-312.25 93.88,-306.25 99.88,-300.25 105.88,-300.25 105.88,-300.25 220.12,-300.25 220.12,-300.25 226.12,-300.25 232.12,-306.25 232.12,-312.25 232.12,-312.25 232.12,-324.25 232.12,-324.25 232.12,-330.25 226.12,-336.25 220.12,-336.25"/>
<text xml:space="preserve" text-anchor="middle" x="163" y="-312.82" font-family="Arial" font-size="14.00">Dequantize (approx)</text>
</g>
<!-- QuantOut&#45;&gt;Dequant -->
<g id="edge2" class="edge">
<title>QuantOut&#45;&gt;Dequant</title>
<path fill="none" stroke="#444444" d="M163,-373.82C163,-365.39 163,-355.3 163,-346.11"/>
<polygon fill="#444444" stroke="#444444" points="165.8,-346.12 163,-338.12 160.2,-346.12 165.8,-346.12"/>
</g>
<!-- Sub -->
<g id="node3" class="node">
<title>Sub</title>
<path fill="#f0fff4" stroke="#555555" d="M271,-262.5C271,-262.5 189,-262.5 189,-262.5 183,-262.5 177,-256.5 177,-250.5 177,-250.5 177,-235 177,-235 177,-229 183,-223 189,-223 189,-223 271,-223 271,-223 277,-223 283,-229 283,-235 283,-235 283,-250.5 283,-250.5 283,-256.5 277,-262.5 271,-262.5"/>
<text xml:space="preserve" text-anchor="middle" x="230" y="-245.2" font-family="Arial" font-size="14.00">Subtract</text>
<text xml:space="preserve" text-anchor="middle" x="230" y="-229.45" font-family="Arial" font-size="14.00">residual = d &#45; d̂</text>
</g>
<!-- Dequant&#45;&gt;Sub -->
<g id="edge3" class="edge">
<title>Dequant&#45;&gt;Sub</title>
<path fill="none" stroke="#444444" d="M178.88,-299.83C187.04,-290.88 197.14,-279.79 206.21,-269.85"/>
<polygon fill="#444444" stroke="#444444" points="208.25,-271.77 211.57,-263.97 204.11,-267.99 208.25,-271.77"/>
</g>
<!-- Accum -->
<g id="node4" class="node">
<title>Accum</title>
<path fill="#f0fff4" stroke="#555555" d="M291.62,-187C291.62,-187 168.38,-187 168.38,-187 162.38,-187 156.38,-181 156.38,-175 156.38,-175 156.38,-159.5 156.38,-159.5 156.38,-153.5 162.38,-147.5 168.38,-147.5 168.38,-147.5 291.62,-147.5 291.62,-147.5 297.62,-147.5 303.62,-153.5 303.62,-159.5 303.62,-159.5 303.62,-175 303.62,-175 303.62,-181 297.62,-187 291.62,-187"/>
<text xml:space="preserve" text-anchor="middle" x="230" y="-169.7" font-family="Arial" font-size="14.00">Residual Accumulator</text>
<text xml:space="preserve" text-anchor="middle" x="230" y="-153.95" font-family="Arial" font-size="14.00">(BF16/FP32)</text>
</g>
<!-- Sub&#45;&gt;Accum -->
<g id="edge4" class="edge">
<title>Sub&#45;&gt;Accum</title>
<path fill="none" stroke="#444444" d="M230,-222.82C230,-214.91 230,-205.55 230,-196.83"/>
<polygon fill="#444444" stroke="#444444" points="232.8,-196.88 230,-188.88 227.2,-196.88 232.8,-196.88"/>
</g>
<!-- Clip -->
<g id="node5" class="node">
<title>Clip</title>
<path fill="#fff7e6" stroke="#555555" d="M303.62,-111.5C303.62,-111.5 156.38,-111.5 156.38,-111.5 150.38,-111.5 144.38,-105.5 144.38,-99.5 144.38,-99.5 144.38,-84 144.38,-84 144.38,-78 150.38,-72 156.38,-72 156.38,-72 303.62,-72 303.62,-72 309.62,-72 315.62,-78 315.62,-84 315.62,-84 315.62,-99.5 315.62,-99.5 315.62,-105.5 309.62,-111.5 303.62,-111.5"/>
<text xml:space="preserve" text-anchor="middle" x="230" y="-94.2" font-family="Arial" font-size="14.00">Residual Clip/ScaleGuard</text>
<text xml:space="preserve" text-anchor="middle" x="230" y="-78.45" font-family="Arial" font-size="14.00">(optional)</text>
</g>
<!-- Accum&#45;&gt;Clip -->
<g id="edge5" class="edge">
<title>Accum&#45;&gt;Clip</title>
<path fill="none" stroke="#444444" d="M230,-147.32C230,-139.41 230,-130.05 230,-121.33"/>
<polygon fill="#444444" stroke="#444444" points="232.8,-121.38 230,-113.38 227.2,-121.38 232.8,-121.38"/>
</g>
<!-- ToTime -->
<g id="node6" class="node">
<title>ToTime</title>
<path fill="#e6fffb" stroke="#555555" d="M285.25,-36C285.25,-36 174.75,-36 174.75,-36 168.75,-36 162.75,-30 162.75,-24 162.75,-24 162.75,-12 162.75,-12 162.75,-6 168.75,0 174.75,0 174.75,0 285.25,0 285.25,0 291.25,0 297.25,-6 297.25,-12 297.25,-12 297.25,-24 297.25,-24 297.25,-30 291.25,-36 285.25,-36"/>
<text xml:space="preserve" text-anchor="middle" x="230" y="-12.57" font-family="Arial" font-size="14.00">→ Temporal Gating</text>
</g>
<!-- Clip&#45;&gt;ToTime -->
<g id="edge6" class="edge">
<title>Clip&#45;&gt;ToTime</title>
<path fill="none" stroke="#444444" d="M230,-71.52C230,-63.56 230,-54.19 230,-45.59"/>
<polygon fill="#444444" stroke="#444444" points="232.8,-45.83 230,-37.83 227.2,-45.83 232.8,-45.83"/>
</g>
<!-- InputRef -->
<g id="node7" class="node">
<title>InputRef</title>
<path fill="#e8f0fe" stroke="#555555" d="M331.62,-338C331.62,-338 262.38,-338 262.38,-338 256.38,-338 250.38,-332 250.38,-326 250.38,-326 250.38,-310.5 250.38,-310.5 250.38,-304.5 256.38,-298.5 262.38,-298.5 262.38,-298.5 331.62,-298.5 331.62,-298.5 337.62,-298.5 343.62,-304.5 343.62,-310.5 343.62,-310.5 343.62,-326 343.62,-326 343.62,-332 337.62,-338 331.62,-338"/>
<text xml:space="preserve" text-anchor="middle" x="297" y="-320.7" font-family="Arial" font-size="14.00">Reference d</text>
<text xml:space="preserve" text-anchor="middle" x="297" y="-304.95" font-family="Arial" font-size="14.00">(FP16/FP32)</text>
</g>
<!-- InputRef&#45;&gt;Sub -->
<g id="edge1" class="edge">
<title>InputRef&#45;&gt;Sub</title>
<path fill="none" stroke="#444444" d="M279.75,-298.32C271.84,-289.64 262.33,-279.22 253.76,-269.82"/>
<polygon fill="#444444" stroke="#444444" points="255.91,-268.01 248.45,-263.99 251.77,-271.79 255.91,-268.01"/>
</g>
</g>
</svg>
